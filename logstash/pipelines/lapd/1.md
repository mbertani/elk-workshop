# File input plugin
Documentation: https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html

You will learn how to read files from logstash.

Start with 1.conf and proceed with the excercises under in the given order.
If you need help, you can take a peek at 1.fasit.conf or ask the speakers. 
Try to run logstash at each completed step to make sure you are on the right track. 
Remember to delete the file at sincedb_path between runs, so that logstash process the whole input file again. 

We assume you hava a shell in the same directory as this file.

1. Export your path to this directory as an environmment variable. We will use this variable to define the paths in our configuration files.


  ```
  $ export LAPD_HOME=/home/vagrant/git/elk-workshop/logstash/pipelines/lapd
  ```



Run 1.conf and run logstash with -t parameter to verify the configuration is OK.  

  ```
  $ ../../../logstash-2.3.4/bin/logstash -f 1.conf -t
  ```

2. Run 1.conf job in logstash with the -allow-env flag, for at logstash recognises environment variables in the config file. Verify that all lines from the csv file appear in your console.  

  ```
  $ ../../../logstash-2.3.4/bin/logstash -f 1.conf --allow-env
  ```

3. Notice the sincedb_path file in the definition of the input filter. 
  This file keeps a pointer to the location that logstash has proccessed the file so far. 
  If you don't delete it, logstash will not read the file from start but from that pointer. Therefore we set the path to /dev/null and the file will not be created.
